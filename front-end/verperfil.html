<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/Style.css" type="text/css">
    <link rel="stylesheet" href="./CSS/navega√ßao.css">
    <link rel="icon" type="image/x-icon" href="./CSS/imagens/iconedosite.png">
    <title>Ver Perfil</title>
</head>

<body style="background:linear-gradient(90deg,rgba(219, 29, 29, 1) 0%, rgba(255, 59, 59, 1) 100%, rgba(218, 34, 32, 1) 38%);">

    <!-- MENU LATERAL -->
    <ul class="voltar" style="background-color: rgb(252, 98, 98); margin: 20px; width: 98%; box-shadow: 10px 10px 20px rgb(29, 8, 8);">
        <li class="drop">
            <button class="botaodrop" style="height: 50px; width: 60px;">
                <img style="height: 20px; width: 30px;" src="./CSS/imagens/tracos.png">
            </button>
            <div class="dropconteudo">
                <div style="height: 40px;"></div>

                <!-- Links para candidato -->
                <a href="./paginainicialcandidato.html" class="nav-candidato">Inicio</a>
                <a href="" class="nav-candidato">Feed</a>
                <a href="" class="nav-candidato">Procurar Vagas</a>
                <a href="./mensagens.html" class="nav-candidato">Mensagens</a>

                <!-- Links para empresa -->
                <a href="./paginainicialempresa.html" class="nav-empresa">Inicio (Empresa)</a>
                <a href="./criarvaga.html" class="nav-empresa">Criar Vaga</a>
                <a href="./minhasvagas.html" class="nav-empresa">Minhas Vagas</a>

                <!-- Links em comum -->
                <a href="./contatos.html">Notifica√ß√µes</a>
                <a href="">Configura√ß√µes</a>
                <a id="btnLogout" style="cursor:pointer; color:white;">Sair</a>
            </div>
        </li>
    </ul>

    <!-- PERFIL -->
    <div class="fundo" style="margin-bottom: 100px;">
        <div class="perfil">

            <h1 id="tituloPerfil" style="font-size: 40px; color: white;">Perfil</h1>

            <!-- PERFIL DO CANDIDATO -->
            <div id="perfilCandidato" class="blocodevisualizar" style="display:none;">
                <div class="icone" style="margin-right: 180px;">
                    <img class="fotoicone1" src="./CSS/imagens/perfil.jpg">
                </div>

                <div class="visualizar">
                    <p><strong>Nome:</strong> <span id="c_nome">‚Äî</span></p>
                    <p><strong>Email:</strong> <span id="c_email">‚Äî</span></p>
                    <p><strong>Telefone:</strong> <span id="c_telefone">‚Äî</span></p>
                    <p><strong>CPF:</strong> <span id="c_cpf">‚Äî</span></p>
                    <p><strong>√Årea de Trabalho:</strong> <span id="c_area">‚Äî</span></p>
                    <p><strong>PCD:</strong> <span id="c_pcd">‚Äî</span></p>
                    <p><strong>Limite Di√°rio:</strong> <span id="c_limite">‚Äî</span></p>
                    
                    <h3>Endere√ßo</h3>
                    <p><span id="c_endereco">‚Äî</span></p>
                </div>

                <div class="botaoverperfil">
                    <button style="background-color: rgb(255, 44, 44);">Visualizar Curr√≠culo</button>
                    <button onclick="window.location.href='./editarperfil.html'" style="background-color: rgb(255, 44, 44);">
                        Editar
                    </button>
                </div>
            </div>

            <!-- PERFIL DA EMPRESA -->
            <div id="perfilEmpresa" class="blocodevisualizar" style="display:none;">
                <div class="icone" style="margin-right: 180px;">
                    <img class="fotoicone1" src="./CSS/imagens/perfil.jpg">
                </div>

                <div class="visualizar">
                    <p><strong>Nome da Empresa:</strong> <span id="e_nome">‚Äî</span></p>
                    <p><strong>Email:</strong> <span id="e_email">‚Äî</span></p>
                    <p><strong>CNPJ:</strong> <span id="e_cnpj">‚Äî</span></p>
                    <p><strong>Cidade:</strong> <span id="e_cidade">‚Äî</span></p>
                    <p><strong>Estado:</strong> <span id="e_estado">‚Äî</span></p>
                </div>

                <div class="botaoverperfil">
                    <button style="background-color: rgb(255, 44, 44);">Ver Vagas</button>
                    <button onclick="window.location.href='./editarperfil.html'" style="background-color: rgb(255, 44, 44);">
                        Editar
                    </button>
                </div>
            </div>

        </div>
    </div>

    <footer>
        <div class="rodape">
            <p>&copy; 2025 FusionDevs. Todos os direitos reservados.</p>

            <div class="links">
                <a href="/politica-de-privacidade">Pol√≠tica de Privacidade</a>
                <span>|</span>
                <a href="/termos-de-servico">Termos de Servi√ßo</a>
            </div>

            <div class="social-media">
                <a href="#" class="social-icon"><img src="https://img.icons8.com/ios-filled/50/ffffff/facebook.png"></a>
                <a href="#" class="social-icon"><img src="https://img.icons8.com/ios-filled/50/ffffff/twitter.png"></a>
                <a href="#" class="social-icon"><img src="https://img.icons8.com/ios-filled/50/ffffff/linkedin.png"></a>
                <a href="#" class="social-icon"><img src="https://img.icons8.com/ios-filled/50/ffffff/instagram.png"></a>
            </div>
        </div>
    </footer>

    <!-- =============================== -->
    <!-- SCRIPT EMBUTIDO DO PERFIL -->
    <!-- =============================== -->
    <script>
document.addEventListener("DOMContentLoaded", () => {

    const dados = JSON.parse(localStorage.getItem("dadosUsuario"));
    const tipo = localStorage.getItem("tipoUsuario");

    // seguran√ßa
    if (!dados) {
        alert("Nenhum usu√°rio est√° logado.");
        window.location.href = "login.html";
        return;
    }

    // Determina se √© candidato ou empresa
    const isCandidato = (tipo === "candidato");
    const isEmpresa = (tipo === "empresa");

    // Mostra menus certos
    document.querySelectorAll(".nav-candidato").forEach(el => {
        el.style.display = isCandidato ? "block" : "none";
    });
    document.querySelectorAll(".nav-empresa").forEach(el => {
        el.style.display = isEmpresa ? "block" : "none";
    });

    // Exibe o bloco correto
    document.getElementById("perfilCandidato").style.display = isCandidato ? "flex" : "none";
    document.getElementById("perfilEmpresa").style.display = isEmpresa ? "flex" : "none";

    // =====================
    // üéØ Preencher CANDIDATO
    // =====================
    if (isCandidato) {
        document.getElementById("tituloPerfil").innerText = "Perfil do Candidato";

        document.getElementById("c_nome").innerText = dados.nome_completo;
        document.getElementById("c_email").innerText = dados.email;
        document.getElementById("c_telefone").innerText = dados.telefone;
        document.getElementById("c_cpf").innerText = dados.cpf;
        document.getElementById("c_limite").innerText = dados.limite;
        document.getElementById("c_pcd").innerText = dados.is_pcd ? "Sim" : "N√£o";

        // Como o login n√£o retorna endere√ßo completo, exibimos o ID
        document.getElementById("c_endereco").innerText =
            "ID do Endere√ßo: " + dados.id_endereco;

        // Tamb√©m n√£o retorna nome da √°rea, s√≥ o ID
        document.getElementById("c_area").innerText =
            "√Årea ID: " + dados.id_status;
    }

    // ==================
    // üéØ Preencher EMPRESA
    // ==================
    if (isEmpresa) {
        document.getElementById("tituloPerfil").innerText = "Perfil da Empresa";

        document.getElementById("e_nome").innerText = dados.nome;
        document.getElementById("e_email").innerText = dados.email;
        document.getElementById("e_cnpj").innerText = dados.cnpj;

        document.getElementById("e_cidade").innerText = dados.cidade ?? "‚Äî";
        document.getElementById("e_estado").innerText = dados.estado ?? "‚Äî";
    }
});
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {

    const dados = JSON.parse(localStorage.getItem("dadosUsuario"));
    const tipo = localStorage.getItem("tipoUsuario");

    // seguran√ßa
    if (!dados) {
        alert("Nenhum usu√°rio est√° logado.");
        window.location.href = "login.html";
        return;
    }

    // Determina se √© candidato ou empresa
    const isCandidato = (tipo === "candidato");
    const isEmpresa = (tipo === "empresa");

    // Mostra menus certos
    document.querySelectorAll(".nav-candidato").forEach(el => {
        el.style.display = isCandidato ? "block" : "none";
    });
    document.querySelectorAll(".nav-empresa").forEach(el => {
        el.style.display = isEmpresa ? "block" : "none";
    });

    // Exibe o bloco correto
    document.getElementById("perfilCandidato").style.display = isCandidato ? "flex" : "none";
    document.getElementById("perfilEmpresa").style.display = isEmpresa ? "flex" : "none";

    // =====================
    // üéØ Preencher CANDIDATO
    // =====================
    if (isCandidato) {
        document.getElementById("tituloPerfil").innerText = "Perfil do Candidato";

        document.getElementById("c_nome").innerText = dados.nome_completo;
        document.getElementById("c_email").innerText = dados.email;
        document.getElementById("c_telefone").innerText = dados.telefone;
        document.getElementById("c_cpf").innerText = dados.cpf;
        document.getElementById("c_limite").innerText = dados.limite;
        document.getElementById("c_pcd").innerText = dados.is_pcd ? "Sim" : "N√£o";

        // Como o login n√£o retorna endere√ßo completo, exibimos o ID
        document.getElementById("c_endereco").innerText =
            "ID do Endere√ßo: " + dados.id_endereco;

        // Tamb√©m n√£o retorna nome da √°rea, s√≥ o ID
        document.getElementById("c_area").innerText =
            "√Årea ID: " + dados.id_status;
    }

    // ==================
    // üéØ Preencher EMPRESA
    // ==================
    if (isEmpresa) {
        document.getElementById("tituloPerfil").innerText = "Perfil da Empresa";

        document.getElementById("e_nome").innerText = dados.nome;
        document.getElementById("e_email").innerText = dados.email;
        document.getElementById("e_cnpj").innerText = dados.cnpj;

        document.getElementById("e_cidade").innerText = dados.cidade ?? "‚Äî";
        document.getElementById("e_estado").innerText = dados.estado ?? "‚Äî";
    }
});
</script>



</body>

</html>
